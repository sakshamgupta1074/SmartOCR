import cv2
import numpy as np
from shapely.geometry import Polygon
# 913, 349, 1060, 548
# x = [913, 1060]
# y = [349, 548]
# alpha = 1 # that's your transparency factor
# path = 'img9.jpg'

# polygon = Polygon([(x[0], y[0]), (x[0], y[1]), (x[1], y[1]), (x[1], y[0])])
# int_coords = lambda x: np.array(x).round().astype(np.int32)
# exterior = [int_coords(polygon.exterior.coords)]
# image = cv2.imread(path)
# overlay = image.copy()
# cv2.fillPoly(overlay, exterior, color=(0, 0, 0))
# cv2.addWeighted(overlay, alpha, image, 1 - alpha, 0, image)
# # cv2.imshow("Polygon", image)
# cv2.imwrite('colored_one.jpg', image)
# # cv2.waitKey(0)
# # cv2.destroyAllWindows()
cor4=[[465, 32, 610, 83, 99.14318323135376, 'rectangle'], [373, 228, 467, 281, 98.2014536857605, 'rectangle'], [109, 479, 207, 532, 97.63641357421875, 'rectangle'], [371, 145, 468, 199, 97.63381481170654, 'rectangle'], [583, 146, 680, 198, 97.43796586990356, 'rectangle'], [477, 229, 576, 282, 97.30658531188965, 'rectangle'], [477, 146, 576, 199, 97.2882866859436, 'rectangle'], [214, 479, 314, 533, 97.27458357810974, 'rectangle'], [265, 228, 364, 281, 97.17519283294678, 'rectangle'], [687, 146, 786, 199, 97.14759588241577, 'rectangle'], [788, 311, 887, 365, 97.02692031860352, 'rectangle'], [211, 563, 312, 616, 96.82013392448425, 'rectangle'], [890, 563, 992, 616, 96.69045209884644, 'rectangle'], [579, 478, 680, 531, 96.68223857879639, 'rectangle'], [214, 146, 314, 199, 96.57435417175293, 'rectangle'], [370, 310, 470, 365, 96.52252197265625, 'rectangle'], [160, 227, 259, 282, 96.14912271499634, 'rectangle'], [685, 311, 783, 366, 96.01868391036987, 'rectangle'], [162, 396, 263, 450, 95.89778184890747, 'rectangle'], [161, 311, 262, 366, 95.3068494796753, 'rectangle'], [892, 311, 994, 366, 94.45666074752808, 'rectangle'], [937, 396, 1039, 448, 92.68903732299805, 'rectangle']]
cor1=[[1044, 687, 1199, 844, 98.51794838905334, 'rectangle'], [1023, 161, 1412, 398, 98.42606782913208, 'rectangle'], [1608, 688, 1765, 843, 98.40973615646362, 'rectangle'], [1606, 1135, 1764, 1293, 98.3725368976593, 'rectangle'], [1609, 1363, 1764, 1523, 98.32055568695068, 'rectangle'], [1608, 914, 1763, 1068, 98.26047420501709, 'rectangle'], [1419, 686, 1573, 844, 98.19836616516113, 'rectangle'], [1234, 686, 1386, 844, 98.08623790740967, 'rectangle'], [291, 686, 443, 848, 98.0351448059082, 'rectangle'], [668, 463, 823, 618, 97.92945384979248, 'rectangle'], [1794, 914, 1950, 1069, 97.85811305046082, 'rectangle'], [292, 917, 448, 1069, 97.8340744972229, 'rectangle'], [857, 688, 1006, 845, 97.83082008361816, 'rectangle'], [483, 463, 633, 618, 97.76562452316284, 'rectangle'], [1233, 463, 1389, 619, 97.72863984107971, 'rectangle'], [1044, 463, 1198, 616, 97.69213199615479, 'rectangle'], [1417, 1360, 1573, 1520, 97.63452410697937, 'rectangle'], [858, 463, 1006, 619, 97.62102961540222, 'rectangle'], [1417, 913, 1573, 1068, 97.54629135131836, 'rectangle'], [293, 464, 447, 620, 97.45721817016602, 'rectangle'], [1982, 914, 2139, 1070, 97.31693267822266, 'rectangle'], [100, 461, 256, 618, 97.10217714309692, 'rectangle'], [106, 913, 260, 1071, 97.03575372695923, 'rectangle'], [1425, 463, 1572, 618, 96.99065089225769, 'rectangle'], [1987, 462, 2134, 619, 96.98861837387085, 'rectangle'], [1608, 463, 1762, 621, 96.88670635223389, 'rectangle'], [1794, 462, 1944, 618, 96.80204391479492, 'rectangle'], [2170, 464, 2327, 620, 96.4996337890625, 'rectangle'], [1795, 1363, 1950, 1521, 96.36037349700928, 'circle'], [481, 910, 638, 1069, 96.02436423301697, 'circle'], [665, 911, 824, 1070, 95.39172649383545, 'circle'], [1041, 1362, 1198, 1520, 94.91395354270935, 'circle'], [1227, 1364, 1385, 1519, 94.8677659034729, 'circle'], [853, 910, 1009, 1071, 94.59567070007324, 'circle'], [1229, 912, 1386, 1067, 93.66307258605957, 'circle'], [1228, 1138, 1386, 1293, 92.7335262298584, 'circle'], [2169, 688, 2322, 845, 87.39859461784363, 'circle'], [468, 685, 649, 851, 79.39151525497437, 'pentagon'], [653, 683, 836, 852, 78.19159030914307, 'pentagon'], [1018, 1140, 1214, 1297, 75.00344514846802, 'pentagon'], [1864, 684, 2061, 852, 73.93273711204529, 'pentagon'], [1022, 913, 1211, 1071, 72.30607867240906, 'pentagon'], [1869, 1143, 2062, 1297, 72.1400797367096, 'pentagon'], [2079, 1139, 2267, 1297, 69.994056224823, 'pentagon']]
cor2=[[312, 917, 479, 1012, 97.91414737701416, 'rectangle'], [325, 743, 475, 840, 97.86626100540161, 'rectangle'], [146, 588, 300, 681, 97.84055948257446, 'rectangle'], [1363, 937, 1534, 1046, 97.71459102630615, 'rectangle'], [2, 742, 153, 838, 96.14154696464539, 'rectangle'], [1489, 586, 1644, 684, 92.42074489593506, 'rectangle'], [918, 746, 1071, 840, 91.51775240898132, 'rectangle'], [719, 0, 911, 62, 85.66744327545166, 'rectangle'], [660, 274, 769, 391, 84.6535861492157, 'circle'], [1203, 417, 1325, 542, 82.2437047958374, 'circle'], [487, 273, 602, 385, 80.3689956665039, 'circle'], [353, 275, 461, 387, 75.44999718666077, 'circle'], [1368, 417, 1490, 523, 65.23110270500183, 'circle'], [996, 118, 1111, 231, 53.39685082435608, 'pentagon'], [751, 116, 873, 231, 53.018516302108765, 'pentagon'], [1203, 119, 1318, 232, 51.364582777023315, 'pentagon'], [290, 118, 402, 231, 49.369558691978455, 'pentagon'], [531, 120, 645, 230, 48.68547320365906, 'pentagon'], [159, 447, 260, 534, 45.98415195941925, 'triangle'], [485, 435, 614, 538, 44.7461724281311, 'triangle'], [159, 283, 269, 374, 34.07939672470093, 'circle'], [1035, 443, 1154, 536, 29.74044680595398, 'circle']]
cor3=[[382, 100, 542, 148, 97.17702865600586, 'rectangle'], [540, 275, 698, 324, 97.09285497665405, 'rectangle'], [156, 275, 317, 325, 97.07373380661011, 'rectangle'], [355, 275, 516, 325, 97.01814651489258, 'rectangle'], [204, 100, 364, 148, 96.95637226104736, 'rectangle'], [24, 99, 184, 148, 96.93408012390137, 'rectangle'], [562, 99, 720, 149, 96.74797654151917, 'rectangle'], [356, 186, 516, 237, 95.66293954849243, 'rectangle'], [180, 187, 340, 237, 95.05342841148376, 'rectangle'], [232, 363, 391, 414, 95.0172483921051, 'rectangle'], [3, 187, 167, 236, 94.4486141204834, 'rectangle'], [437, 363, 598, 414, 94.27350759506226, 'rectangle'], [23, 364, 183, 414, 94.02962923049927, 'rectangle'], [281, 10, 442, 60, 92.89690256118774, 'rectangle']]
cor5=[[184, 411, 424, 506, 99.38210248947144, 'rectangle'], [883, 411, 1122, 506, 99.33841228485107, 'rectangle'], [535, 411, 767, 507, 99.02624487876892, 'rectangle'], [1235, 410, 1467, 507, 99.01975989341736, 'rectangle'], [710, 249, 947, 341, 97.12972640991211, 'rectangle']]
cor6=[[101, 383, 209, 439, 97.06920981407166, 'rectangle'], [371, 893, 483, 950, 96.64686918258667, 'rectangle'], [74, 677, 182, 732, 96.56767845153809, 'rectangle'], [376, 970, 483, 1027, 96.28012180328369, 'rectangle'], [377, 455, 482, 512, 96.21717929840088, 'rectangle'], [529, 384, 634, 439, 95.40587067604065, 'rectangle'], [74, 603, 182, 659, 95.36973834037781, 'rectangle'], [252, 456, 357, 511, 95.1933741569519, 'rectangle'], [228, 384, 334, 438, 95.01414895057678, 'rectangle'], [377, 384, 483, 438, 94.92214918136597, 'rectangle'], [552, 681, 660, 734, 94.62305307388306, 'rectangle'], [74, 747, 182, 807, 94.16175484657288, 'rectangle'], [399, 605, 507, 658, 94.14619207382202, 'rectangle'], [227, 677, 332, 731, 93.93744468688965, 'rectangle'], [528, 529, 634, 584, 93.73767375946045, 'rectangle'], [532, 604, 634, 656, 93.6383843421936, 'rectangle'], [550, 897, 663, 952, 93.50910186767578, 'rectangle'], [225, 747, 334, 806, 93.13801527023315, 'rectangle'], [377, 749, 482, 807, 93.04974675178528, 'rectangle'], [227, 604, 332, 658, 92.86230802536011, 'rectangle'], [553, 749, 663, 805, 92.83314943313599, 'rectangle'], [377, 692, 485, 746, 92.5514817237854, 'rectangle'], [161, 308, 270, 365, 92.46026277542114, 'rectangle'], [377, 529, 485, 584, 92.4115538597107, 'rectangle'], [254, 528, 360, 584, 91.49185419082642, 'rectangle'], [529, 456, 634, 511, 91.43094420433044, 'rectangle'], [990, 161, 1101, 218, 91.29170179367065, 'rectangle'], [537, 234, 650, 295, 91.22763872146606, 'rectangle'], [1442, 235, 1551, 293, 90.69793224334717, 'rectangle'], [529, 973, 632, 1025, 90.26552438735962, 'rectangle'], [72, 529, 183, 583, 89.480459690094, 'rectangle'], [524, 1043, 633, 1099, 86.72857880592346, 'rectangle'], [991, 234, 1100, 288, 85.78926920890808, 'rectangle'], [75, 457, 184, 509, 75.02048015594482, 'rectangle'], [529, 824, 634, 876, 74.93516802787781, 'rectangle'], [384, 712, 477, 803, 44.96654570102692, 'rectangle']]
cor=[[156, 274, 316, 325, 97.36135005950928, 'rectangle'], [355, 275, 516, 325, 97.23899364471436, 'rectangle'], [562, 99, 719, 149, 97.17506170272827, 'rectangle'], [382, 99, 542, 149, 96.84385061264038, 'rectangle'], [23, 99, 183, 148, 96.81214690208435, 'rectangle'], [442, 457, 602, 507, 96.20250463485718, 'rectangle'], [179, 186, 338, 237, 95.3770399093628, 'rectangle'], [4, 187, 166, 237, 94.89936828613281, 'rectangle'], [278, 362, 439, 414, 94.42919492721558, 'rectangle'], [74, 363, 234, 415, 94.10572648048401, 'rectangle'], [280, 9, 441, 61, 92.82688498497009, 'rectangle'], [112, 455, 194, 516, 68.0224359035492, 'circle'], [265, 99, 345, 157, 67.23973751068115, 'circle'], [43, 274, 123, 335, 54.711222648620605, 'pentagon'], [584, 188, 692, 252, 52.483564615249634, 'triangle'], [482, 364, 561, 428, 40.776342153549194, 'pentagon']]
path = 'ey3.jpg'
image = cv2.imread(path)

for dic in cor:
	x0=float(dic[0])
	y0=float(dic[1])
	x1=float(dic[2])
	y1=float(dic[3])
	alpha = 1 # that's your transparency factor
	polygon = Polygon([(x0, y0), (x0, y1), (x1, y1), (x1, y0)])
	int_coords = lambda x: np.array(x).round().astype(np.int32)
	exterior = [int_coords(polygon.exterior.coords)]
	overlay = image.copy()
	cv2.fillPoly(overlay, exterior, color=(0, 0, 0))
	cv2.addWeighted(overlay, alpha, image, 1 - alpha, 0, image)

	# cv2.imshow("Polygon", image)
cv2.imwrite('colored_black.jpg', image)


#[[468, 32, 614, 83, 98.80326986312866, 'rectangle'], [377, 230, 467, 281, 98.43882918357849, 'rectangle'], [582, 480, 679, 531, 97.86688089370728, 'rectangle'], [481, 147, 576, 199, 97.6090669631958, 'rectangle'], [219, 481, 312, 532, 97.45134115219116, 'rectangle'], [267, 230, 366, 281, 97.43497967720032, 'rectangle'], [114, 480, 211, 532, 97.2017228603363, 'rectangle'], [376, 147, 468, 199, 97.00201153755188, 'rectangle'], [167, 397, 262, 448, 96.97721004486084, 'rectangle'], [794, 313, 886, 365, 96.96050882339478, 'rectangle'], [584, 147, 682, 199, 96.81468605995178, 'rectangle'], [691, 147, 785, 199, 96.63534164428711, 'rectangle'], [374, 312, 467, 365, 96.49815559387207, 'rectangle'], [890, 563, 990, 616, 96.27465009689331, 'rectangle'], [166, 230, 258, 282, 96.06618881225586, 'rectangle'], [478, 231, 577, 282, 96.05119228363037, 'rectangle'], [165, 312, 262, 365, 95.96353769302368, 'rectangle'], [215, 147, 316, 198, 94.9884295463562, 'rectangle'], [690, 312, 783, 365, 94.93831396102905, 'rectangle'], [944, 396, 1041, 447, 94.92233395576477, 'rectangle'], [898, 313, 990, 365, 94.59055662155151, 'rectangle'], [217, 565, 309, 618, 83.63715410232544, 'rectangle']]